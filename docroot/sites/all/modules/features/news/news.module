<?php
/**
 * @file
 * Code for the News feature.
 */

include_once 'news.features.inc';

/**
 * Implements hook_bean_types_api_info().
 */
function news_bean_types_api_info() {
  return array('api' => 4);
}

/**
 * Implements hook_preprocess_hook()
 * Makes the short title the title
 */
function news_preprocess_node(&$variables) {
  if ($variables['type'] == 'news_item') {
    if ($variables['view_mode'] == 'teaser' && count($variables['field_short_title']) > 0) {
      $variables['title'] = $variables['field_short_title']['und'][0]['value'];
    }
  }
}
